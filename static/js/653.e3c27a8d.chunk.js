"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[653],{3653:function(t,e,s){s.r(e),s.d(e,{default:function(){return J}});var n=s(8683),o=s(4165),a=s(5861),i=s(8381),r={},c=s(9439),l="ProfileInfo_profile_block__5gJ0A",u="ProfileInfo_multiline__5LmDh",p="ProfileInfo_pic__KokOx",d="ProfileInfo_profile_pic__BrvFv",h=s(5008),f=s(1497),x=s(9343),g=function(t){var e=t.status,s=t.updateStatus,n=t.isOwner,o=(0,i.useState)(!1),a=(0,c.Z)(o,2),r=a[0],l=a[1],u=(0,i.useState)(e),p=(0,c.Z)(u,2),d=p[0],h=p[1];(0,i.useEffect)((function(){h(e)}),[e]);return(0,x.jsx)("div",{children:r?(0,x.jsx)("input",{name:"status",autoFocus:!0,onBlur:function(){l(!1),s(d)},onChange:function(t){h(t.currentTarget.value)},value:d}):(0,x.jsx)("span",{onDoubleClick:function(){n&&l(!0)},children:e||"User haven't set status yet"})})},b=s(9650),m=s(1956),j=s(6021),v=function(t){var e=(0,i.useState)(!1),s=(0,c.Z)(e,2),n=s[0],o=s[1];if(!t.profile)return(0,x.jsx)(h.Z,{});var a=function(e){e.target.files.length&&t.savePhoto(e.target.files[0])},r=function(){o(!n)},v=function(e){var s=e.profile;return(0,x.jsx)(b.J9,{initialValues:{fullName:s.fullName,aboutMe:s.aboutMe,lookingForAJob:s.lookingForAJob,lookingForAJobDescription:s.lookingForAJobDescription,contacts:{facebook:s.contacts.facebook||"",website:s.contacts.website||"",vk:s.contacts.vk||"",twitter:s.contacts.twitter||"",instagram:s.contacts.instagram||"",youtube:s.contacts.youtube||"",github:s.contacts.github||""}},validate:j.p,onSubmit:function(e){t.updateProfileData(e,r)},children:(0,x.jsxs)(b.l0,{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)(m.oi,{label:"Whats your full name?* ",name:"fullName",type:"text",placeholder:s.aboutMe})}),(0,x.jsx)("div",{children:(0,x.jsx)(m.oi,{label:"Tell us something about you:* ",name:"aboutMe",type:"text",placeholder:s.aboutMe})}),(0,x.jsxs)("div",{children:[(0,x.jsx)(m.XZ,{name:"lookingForAJob",children:"Are you looking for a job?"}),(0,x.jsx)(m.oi,{label:"Enter your desired job description:* ",name:"lookingForAJobDescription",type:"text",placeholder:s.lookingForAJobDescription})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"Edit your contacts below:"}),(0,x.jsx)(m.oi,{label:"facebook",name:"contacts.facebook",type:"text",placeholder:s.contacts.facebook}),(0,x.jsx)(m.oi,{label:"website",name:"contacts.website",type:"text",placeholder:s.contacts.website}),(0,x.jsx)(m.oi,{label:"vk",name:"contacts.vk",type:"text",placeholder:s.contacts.vk}),(0,x.jsx)(m.oi,{label:"twitter",name:"contacts.twitter",type:"text",placeholder:s.contacts.twitter}),(0,x.jsx)(m.oi,{label:"instagram",name:"contacts.instagram",type:"text",placeholder:s.contacts.instagram}),(0,x.jsx)(m.oi,{label:"youtube",name:"contacts.youtube",type:"text",placeholder:s.contacts.youtube}),(0,x.jsx)(m.oi,{label:"github",name:"contacts.github",type:"text",placeholder:s.contacts.github})]})]}),(0,x.jsx)("button",{children:"Submit changes"}),(0,x.jsx)("button",{onClick:r,children:"Cancel"})]})})},k=function(e){var s=e.profile;return(0,x.jsx)("div",{className:l,children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:s.photos.large?s.photos.large:f,className:d,alt:"Profile picture"}),t.isOwner&&(0,x.jsx)("input",{type:"file",onChange:a}),(0,x.jsx)("div",{children:(0,x.jsx)("b",{children:s.fullName})}),(0,x.jsxs)("div",{className:u,children:[(0,x.jsx)("b",{children:"My status:"}),(0,x.jsx)(g,{status:t.status,updateStatus:t.updateStatus,isOwner:t.isOwner})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"About me:"})," ",s.aboutMe||"Not set yet"]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Looking for a job:"})," ",s.lookingForAJob?"Yes":"No"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"My professional skills:"})," ",s.lookingForAJobDescription]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Contact me on:"}),(0,x.jsx)("div",{children:Object.entries(t.profile.contacts).map((function(e){var s=(0,c.Z)(e,2),n=s[0],o=s[1];if(""!==o&&o)switch(n){case"facebook":return(0,x.jsx)("a",{href:t.profile.contacts.facebook,children:(0,x.jsx)("img",{className:p,src:"https://lawshelf.com/assets/img/Facebook%20logo.png",alt:"facebook logo"})},n);case"website":return(0,x.jsx)("a",{href:t.profile.contacts.website,children:(0,x.jsx)("img",{className:p,src:"https://school-6-kholmsk.ru/wp-content/uploads/2018/09/\u0418\u043a\u043e\u043d\u043a\u0430-\u0441\u0430\u0439\u0442\u0430-1024x1024.png",alt:"website logo"})},n);case"vk":return(0,x.jsx)("a",{href:t.profile.contacts.vk,children:(0,x.jsx)("img",{className:p,src:"https://bioschool.pnpi.nrcki.ru/wp-content/uploads/2022/11/vkontakte-png-1024x1024.png",alt:"vk logo"})},n);case"twitter":return(0,x.jsx)("a",{href:t.profile.contacts.twitter,children:(0,x.jsx)("img",{className:p,src:"https://www.vhv.rs/dpng/d/551-5511916_2019-pro-exp-media-inc-circle-twitter-logo.png",alt:"twitter logo"})},n);case"instagram":return(0,x.jsx)("a",{href:t.profile.contacts.instagram,children:(0,x.jsx)("img",{className:p,src:"https://www.accosmetictattooing.com.au/wp-content/uploads/2022/11/instagram-300x300.png",alt:"instagram logo"})},n);case"youtube":return(0,x.jsx)("a",{href:t.profile.contacts.youtube,children:(0,x.jsx)("img",{className:p,src:"https://w7.pngwing.com/pngs/982/799/png-transparent-youtube-logo-youtube-logo-internet-marketing-subscribe-television-label-text.png",alt:"youtube logo"})},n);case"github":return(0,x.jsx)("a",{href:t.profile.contacts.github,children:(0,x.jsx)("img",{className:p,src:"https://e7.pngegg.com/pngimages/947/829/png-clipart-gray-and-blue-cat-illustration-github-computer-icons-logo-github-mammal-cat-like-mammal.png",alt:"github logo"})},n)}}))})]})]})})};return(0,x.jsxs)("div",{children:[t.isOwner&&!n&&(0,x.jsx)("button",{onClick:r,children:"Edit profile"}),t.isOwner&&n?(0,x.jsx)(v,{profile:t.profile}):(0,x.jsx)(k,{profile:t.profile})]})},k=s(7605),w="AllPosts_posts__8paaK",_="AllPosts_posts_block__zlH57",y="Post_item__yGqB2",P="Post_like__GP3CZ",Z="Post_dislike__oz-Ie",N=function(t){var e=(0,i.useState)(t.rating),s=(0,c.Z)(e,2),n=s[0],o=s[1],a=(0,i.useState)(0),r=(0,c.Z)(a,2),l=r[0],u=r[1];return(0,x.jsxs)("div",{className:y,children:[(0,x.jsx)("img",{src:"https://cs6.pikabu.ru/avatars/377/v377504.jpg?329968686"}),t.message,(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{className:P,onClick:function(){if(1===l)o(n-1),u(0);else o(t.rating+1),u(1)},children:"Like"}),(0,x.jsx)("span",{children:n}),(0,x.jsx)("button",{className:Z,onClick:function(){if(-1===l)o(n+1),u(0);else o(t.rating-1),u(-1)},children:"Dislike"})]})]})},A=i.memo((function(t){var e=t.postsData.map((function(t){return(0,x.jsx)(N,{message:t.message,rating:t.rating},t.id)}));return(0,x.jsxs)("div",{className:_,children:["My posts",(0,x.jsx)("div",{children:(0,x.jsx)(b.J9,{initialValues:{newPostText:t.newPostText},onSubmit:function(e,s){""!==e.newPostText&&(t.updateNewPostText(e.newPostText),t.addPost(),s.setFieldValue("newPostText",""))},children:(0,x.jsxs)(b.l0,{children:[(0,x.jsx)(m.oi,{label:"",name:"newPostText",type:"textarea",placeholder:"Enter new post here!",onBlur:function(e){t.updateNewPostText(e.target.value)}}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"New post"})})]})})}),(0,x.jsx)("div",{className:w,children:e})]})})),D=s(5484),F=(0,D.$j)((function(t){return{postsData:t.profilePage.postsData,newPostText:t.profilePage._newPostText}}),(function(t){return{updateNewPostText:function(e){t((0,k._M)(e))},addPost:function(){t((0,k.Wl)())}}}))(A),S=function(t){return(0,x.jsxs)("div",{className:r.content,children:[(0,x.jsx)(v,{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,setStatus:t.setStatus,savePhoto:t.savePhoto,updateProfileData:t.updateProfileData}),(0,x.jsx)(F,{})]})},C=s(7482),O=s(2524),J=(0,s(4479).qC)((0,D.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userId:t.auth.authUserId}}),{getUserProfile:k.et,getStatus:k.lR,updateStatus:k.Nf,setStatus:k.Tf,savePhoto:k.Ju,updateProfileData:k.y}),(function(t){return function(e){var s=(0,O.TH)(),o=(0,O.s0)(),a=(0,O.UO)();return(0,x.jsx)(t,(0,n.Z)((0,n.Z)({},e),{},{router:{location:s,navigate:o,params:a}}))}}),C.D)((function(t){var e=(0,O.UO)().userId;return(0,i.useEffect)((function(){var s=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(s){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getUserProfile(s),t.getStatus(s);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();s(e||t.userId)}),[e]),(0,x.jsx)("div",{children:(0,x.jsx)(S,(0,n.Z)({isOwner:!e},t))})}))},7482:function(t,e,s){s.d(e,{D:function(){return d}});var n=s(8683),o=s(5671),a=s(3144),i=s(136),r=s(516),c=s(8381),l=s(2524),u=s(5484),p=s(9343),d=function(t){var e=function(e){(0,i.Z)(c,e);var s=(0,r.Z)(c);function c(){return(0,o.Z)(this,c),s.apply(this,arguments)}return(0,a.Z)(c,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(t,(0,n.Z)({},this.props)):(0,p.jsx)(l.Fg,{to:"/login"})}}]),c}(c.Component);return(0,u.$j)((function(t){return{isAuth:t.auth.isAuth}}))(e)}},1956:function(t,e,s){s.d(e,{XZ:function(){return h},oi:function(){return d}});var n=s(8683),o=s(9439),a=s(5987),i=s(9650),r=(s(8381),"FormComponents_textInput__3Qh+h"),c="FormComponents_textInputErrorMessage__NARsf",l=s(9343),u=["label","handleBlur"],p=["children"],d=function(t){var e=t.label,s=t.handleBlur,p=(0,a.Z)(t,u),d=(0,i.U$)(p),h=(0,o.Z)(d,2),f=h[0],x=h[1];return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:p.id||p.name,children:e}),(0,l.jsx)("input",(0,n.Z)((0,n.Z)({className:r,onBlur:s},f),p)),x.touched&&x.error&&(0,l.jsxs)("div",{className:c,children:[" ",x.error," "]})]})},h=function(t){var e=t.children,s=(0,a.Z)(t,p),r=(0,i.U$)((0,n.Z)((0,n.Z)({},s),{},{type:"checkbox"})),c=(0,o.Z)(r,2),u=c[0],d=c[1];return(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"checkBoxInput",children:[(0,l.jsx)("input",(0,n.Z)((0,n.Z)({type:"checkbox"},u),s)),e]}),d.touched&&d.error&&(0,l.jsx)("div",{className:"error",children:d.error})]})}},6021:function(t,e,s){s.d(e,{_:function(){return o},p:function(){return a}});var n=s(9439),o=function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Required",t.password||(e.password="Required"),e},a=function(t){var e={contacts:{}};return t.fullName||(e.fullName="Required"),t.aboutMe||(e.aboutMe="Required"),t.lookingForAJobDescription||(e.lookingForAJobDescription="Required"),Object.entries(t.contacts).map((function(s){var o=(0,n.Z)(s,2),a=o[0];o[1]&&!RegExp("^https://".concat(a,".com/")).test(t.contacts[a])&&(e.contacts[a]="Invalid URL format - ".concat(a))})),1===Object.keys(e).length&&0===Object.keys(e.contacts).length?{}:e}},1497:function(t,e,s){t.exports=s.p+"static/media/user_image_placeholder.4a6f1181bb0aabe229d5.png"}}]);
//# sourceMappingURL=653.e3c27a8d.chunk.js.map